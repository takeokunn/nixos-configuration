# markdownテキスト更新コマンド

AIが生成した文章をmarkdownファイルとして作成・更新するスラッシュコマンド。既存ファイルの更新を優先し、Living Documentとして完成された状態を維持します。

## 使用方法

### 基本構文

```bash
/markdown
```

**実行例**

```bash
# 自動判定でファイル出力
/markdown
```

### ファイル判定ロジック

**自動ファイル名生成**（パス省略時）

- 内容テーマ分析 → 既存ファイル検索 → `{テーマ}-{日付}.md`形式で生成

**更新vs新規判定**

- **更新**: 同テーマファイル存在 + 内容類似度70%以上
- **新規**: 類似度30%未満 OR 独立テーマ OR `--create`指定

## 技術仕様

### 実装詳細

**ファイル操作**

- Write/Edit toolによる安全な操作
- UTF-8エンコーディング、LF改行
- 原子的書き込み（全成功 or 全失敗）

**エラー処理**

- パーミッションエラー、容量不足、ファイルロック検出

**設計原則**

- 単一責任: 1ファイル = 1目的
- 冪等性: 同入力 → 同結果
- 原子性: 完全成功/失敗

## 文書作成ガイドライン

### 記載必須内容

- **仕様・要求事項**: 機能的・非機能的要件
- **技術的背景**: 実装前提知識、アーキテクチャ
- **使用方法**: 操作手順、パラメータ、制約

### 記載禁止内容

- 修正履歴・変更ログ
- 検討過程・議論経緯
- 変更理由・過去バージョン比較
